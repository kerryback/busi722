[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "",
    "section": "",
    "text": "Kerry Back  J. Howard Creekmore Professor of Finance and Professor of Economics kerryback@gmail.com\n\n\n\nRoom 317, McNair Hall TTh 10:50 – 12:05 1/8/2024 – 2/23/2024\n\n\n\nThe first half of the course will cover options and futures for risk management and investing. We’ll explain what the securities are and how they trade, how they are used in risk management and investments, and how to value them. The second half of the course will be devoted to active portfolio management and specifically factor investing. We will review the historical results of factor investing and study how to optimally combine factors using machine learning techniques. We will analyze the results in the way that endowments and other institutions evaluate investment managers. We’ll do a real-world implementation of our models with paper trading via the python API at Alpaca Brokerage.\n\n\n\nGrades will be based on a group project, weekly assignments, and a final exam. The group project will account for 20% of the course grade, the assignments for 40%, and the final exam for 40%. The final exam will cover only options and futures. It will be distributed on Feb 22 and due on Feb 27. The group project is due April 23.\n\n\n\nGroups should consist of two or three students. The project is to implement a 140/40 portfolio strategy at Alpaca brokerage, using their python API for paper trading. The portfolio should be 100% long in SPY and 40% long-short with the longs and shorts based on return predictions from a machine learning model. Each group should submit a pdf describing their investment strategy and an evaluation of their results. The strategy should be implemented by Friday, Feb 23. It should be rebalanced weekly, and results should be reported through Friday, Apr 12. The write-up should include an analysis of the weekly returns relative to the weekly returns of SPY.\n\n\n\n\nOptions and their uses\nOption spreads\nOption valuation\nIntroduction to futures\nSpot-futures parity\nRisk-management case\nFactor investing\nBacktesting\nBacktesting machine learning models\nStrategy evaluation\nIndustries and sectors\nAlpaca API\nRebalancing\n\n\n\n\nThe Rice University honor code applies to all work in this course. Each student must do his or her own assignments, but it is allowed and in fact encouraged for students to seek advice from each other.\n\n\n\nAny student with a documented disability requiring accommodations in this course is encouraged to contact me outside of class. All discussions will remain confidential. Any adjustments or accommodations regarding assignments or the final exam must be made in advance. Students with disabilities should also contact Disability Support Services in the Allen Center."
  },
  {
    "objectID": "index.html#data-driven-finance-ii-rice-university-spring-2024",
    "href": "index.html#data-driven-finance-ii-rice-university-spring-2024",
    "title": "",
    "section": "",
    "text": "Kerry Back  J. Howard Creekmore Professor of Finance and Professor of Economics kerryback@gmail.com\n\n\n\nRoom 317, McNair Hall TTh 10:50 – 12:05 1/8/2024 – 2/23/2024\n\n\n\nThe first half of the course will be devoted to quantitative equity investing. Quantitative equity investing is using quantifiable signals to select stocks via algorithms. We’ll explore machine learning methods to predict returns, and we will backtest trading strategies based on the signals. We will analyze the results in the way that endowments and other institutions evaluate investment managers. We’ll do a real-world implementation of our models with paper trading via the python API at Alpaca Brokerage.\nThe second half of the course will be spent on options and futures. Options and futures are important instruments for risk management and also for investing. We’ll explain what the securities are and how they trade, how they are used in risk management and investments, and how to value them.\n\n\n\nGrades will be based on a group project, weekly assignments, and a final exam. The group project will account for 20% of the course grade, the assignments for 40%, and the final exam for 40%. Due dates for the assignments, exam, and project are as follows. The final exam will cover only options and futures. It will be distributed on Feb 22 and due on Feb 27. The group project is due April 23.\n\n\n\nGroups should consist of two or three students. The project is to implement a 140/40 portfolio strategy at Alpaca brokerage, using their python API for paper trading. The portfolio should be 100% long in SPY and 40% long-short with the longs and shorts based on return predictions from a machine learning model. Each group should submit a pdf describing their investment strategy and an evaluation of their results. The strategy should be implemented by Friday, Feb 23. It should be rebalanced weekly, and results should be reported through Friday, Apr 12. The write-up should include an analysis of the weekly returns relative to the weekly returns of SPY.\n\n\n\n\nFactor investing\nBacktesting momentum and value\nBacktesting machine learning models\nStrategy evaluation\nSector strategies\nAlpaca API\nIntroduction to options\nRisk management with options\nInvesting with options\nOption valuation\nIntroduction to futures\nRisk management with futures\nSpot-futures parity\nRisk-management case\n\n\n\n\nThe Rice University honor code applies to all work in this course. Each student must do his or her own assignments, but it is allowed and in fact encouraged for students to seek advice from each other.\n\n\n\nAny student with a documented disability requiring accommodations in this course is encouraged to contact me outside of class. All discussions will remain confidential. Any adjustments or accommodations regarding assignments or the final exam must be made in advance. Students with disabilities should also contact Disability Support Services in the Allen Center."
  },
  {
    "objectID": "slides.html",
    "href": "slides.html",
    "title": "",
    "section": "",
    "text": "1. Options and their Uses (pdf) 2. Option Spreads (pdf) 3. Option Valuation (pdf) 4. Futures (pdf) 5. More Futures (pdf) 6. Factor Investing (pdf) Gu-Kelly-Xiu Paper Green-Hand-Zhang features  Jensen-Kelly-Pedersen Paper 7. Backtesting (pdf) 8. Preprocessing and Analysis (pdf) 9. Rank and Trade (pdf)"
  },
  {
    "objectID": "assignment1.html",
    "href": "assignment1.html",
    "title": "",
    "section": "",
    "text": "Instructions\n\n\n\nThis assignment is due at midnight on Thursday, Jan 18. Submit a Jupyter notebook to Canvas. Copy each question into a Markdown cell and perform the analysis in the following cell(s).\n\n\nA stock is trading at $147, and options are trading at the following prices. Assume the options all have the same maturity and bid = ask = price.\n\n\n\nStrike\nCall\nPut\n\n\n\n\n120\n31.55\n1.96\n\n\n125\n27.10\n2.76\n\n\n130\n24.40\n3.57\n\n\n135\n18.10\n4.75\n\n\n140\n14.93\n6.25\n\n\n145\n11.60\n8.25\n\n\n150\n8.89\n10.42\n\n\n155\n6.50\n13.25\n\n\n160\n4.70\n16.60\n\n\n165\n3.25\n20.25\n\n\n\n\nSuppose you own the stock and want to collar it. Propose a costless (or, rather, near costless) collar. Plot the value of your collared stock, net of any income/expense for the collar, as a function of the stock price at the options maturity.\nSuppose you don’t own the stock but want to make a bet on it. Propose a bull spread. Plot your profit or loss on the spread as a function of the stock price if you hold it to maturity. The profit or loss should be as a percent of the cost of the spread.\nAssume you want to bet against the stock and repeat #2 for a bear spread.\nRepeat #2 for a straddle. What are you betting on with a straddle?\nRepeat #2 for a butterfly spread. What are you betting on with a butterfly spread?\nConsider the 140 call and put. What is the “PV of strike” that is consistent with put-call parity?"
  },
  {
    "objectID": "assignments.html",
    "href": "assignments.html",
    "title": "",
    "section": "",
    "text": "1. Options and Spreads (due Jan 18) 2. Option Valuation and Futures (due Jan 25) 3. Backwardation and Contango (due Feb 1) 4. Factors and Backtesting (due Feb 8) 5. Backtesting Machine Learning Models (due Feb 15) 6. Evaluation and Industry Strategies (due Feb 22)"
  },
  {
    "objectID": "assignment2.html",
    "href": "assignment2.html",
    "title": "",
    "section": "",
    "text": "Instructions\n\n\n\nThis assignment is due at midnight on Thursday, Jan 25. Submit a Jupyter notebook to Canvas. Copy each question into a Markdown cell and perform the analysis in the following cell(s).\n\n\n\nI got the following information from Yahoo Finance for CVX options on 1/18/2024. The options expire on 2/16/2024, and CVX was reported as trading at 141.62 at the time, but those facts are not directly relevant for this question.\n\n\n\n\nStrike\nCall Bid\nCall Ask\nPut Bid\nPut Ask\n\n\n\n\n135\n8.25\n8.40\n1.85\n1.89\n\n\n145\n2.36\n2.39\n6.45\n6.55\n\n\n\nSuppose you sell a 135 call, buy a 145 call, buy a 135 put and sell a 145 put. You sell at the bid price and buy at the ask.\n\nPlot the value of the portfolio at the options’ maturity, ignoring the premiums paid and received.\nNow adjust the plot for the net premium received or paid.\n\nTo plot, you might find it easiest to first combine the 135 options and plot that portfolio, then combine the 145 options and plot that portfolio, and then combine the two portfolios. You will get a counter-intuitive answer in (b). I suspect that these quotes were not all valid at the same time. As an aside, one way to think of the portfolio of four options is that you are putting on a long bull spread with puts and a short bull spread with calls.\n\nConsider the two-state example discussed in class. A stock starts at 100 and will either go up 10% or down 10%. The risk-free rate is 5%. Price a call option with a strike of 100.\nIn the setting of #2, use the risk-neutral probability to price a put option with a strike of 100. We didn’t cover this in class, but use the same logic of discounting the expected value at the risk-free rate, using the risk-neutral probability to calculate the expected value.\nSuppose a stock will either go up by \\(r_u=0.04\\) or down by \\(r_d = 1/1.04 - 1\\) in each period of a two-period model. Suppose the risk-free rate is 2% per period. Suppose the stock starts at 100.\n\n\nCalculate the value of a call option with a strike of 95.\nCalculate the value of a put option with a strike of 95."
  },
  {
    "objectID": "assignment3.html",
    "href": "assignment3.html",
    "title": "",
    "section": "",
    "text": "Instructions\n\n\n\nThis assignment is due at midnight on Thursday, Feb 1. Submit a Jupyter notebook to Canvas. Copy each question into a Markdown cell and perform the analysis in the following cell(s).\n\n\n\nConsider a three-month (\\(T=0.25\\)) call option with a strike of 45 on a stock that is now trading at 50. Assume the annual continuously compounded risk-free rate is \\(r_f = 0.04\\) and the annual volatility of the stock is \\(\\sigma=0.3\\). Assume the stock will not pay a dividend before the option matures (\\(q=0\\)).\n\nPrice the option using a two-period binomial model calibrated to the data given.\nCompute the value of the option using the Black-Scholes formula.\nUsing the Black-Scholes formula, plot the value of the option as a function of \\(\\sigma\\) for \\(\\sigma\\) varying between 0.1 and 0.6.\nAssume the market price (premium) of the option is 7.10. For what value of \\(\\sigma\\) is the Black-Scholes formula equal to 7.10? (This is the implied volatility).\n\nGet CME gold futures settlement prices from the CME’s website. How much higher is the Feb 2025 futures price than the Feb 2024 futures price in percentage terms? It should be approximately the same as the one-year interest rate. Get the one-year interest rate from the U.S. Treasury’s website and check that they are roughly the same.\nGet adjusted closing prices for SPY, SPXL, and SPXS from Yahoo finance and compute daily returns. Drop NaNs so that you have the same time period for all three. SPXL is a three-times levered version of SPY and SPXS is a three-times levered short version of SPY. Both are created using futures contracts on the S&P 500.\n\nCreate a scatter plot with SPXL returns on the y-axis and SPY returns on the x-axis and do the same for SPYXS. Run regressions of SPXL returns on SPY returns and of SPYXS returns on SPY returns. What are the slopes of the regression lines?\nDo the total compound returns \\((1+r_1)\\cdots(1+r_T)-1\\) of SPXL compared to SPY and SPXS compared to SPY match the relationships you found in (a)?\nPlot the accumulations \\((1+r_1)\\cdots(1+r_T)\\) for the three funds."
  },
  {
    "objectID": "assignment4.html",
    "href": "assignment4.html",
    "title": "",
    "section": "",
    "text": "Instructions\n\n\n\nThis assignment is due at midnight on Thursday, Feb 8. Submit a Jupyter notebook to Canvas. Copy each question into a Markdown cell and perform the analysis in the following cell(s).\n\n\n\nFind Japanese yen futures settlement prices on the CME website. Are yen futures in backwardation or contango? What does that tell us about Japanese interest rates?\nGenerate plots (using python) of the 1x2 and 2x1 (ratio writing) spreads that were discussed in the Maxum Petroleum case. Assume that you are short crude and include the short position in each of the plots as we did in class. Suppose the price of crude is $80 and just choose option strikes to illustrate the idea. We want to choose the strikes so that the option premia are in some relation to each other. What is the desired relationship?"
  },
  {
    "objectID": "assignment5.html",
    "href": "assignment5.html",
    "title": "",
    "section": "",
    "text": "Instructions\n\n\n\nThis assignment is due at midnight on Thursday, Feb 15. Submit a Jupyter notebook to Canvas. Copy each question into a Markdown cell and perform the analysis in the following cell(s).\n\n\n\nUsing data from the SQL database since 2010, sort into deciles based on marketcap and compute equally weighted portfolio returns. What were the mean returns of the decile portfolios?\nUsing data from the SQL database since 2010, sort into quintiles based on momentum and into quintiles based on marketcap and compute equally weighted portfolio returns for the 25 groups. What were the mean returns?\nCompute volatility for each stock as the standard deviation of the past 52 weekly returns. Remember to group by ticker when doing so. Run a backtest of a random forest with max_depth=3, using target2 and including volatility as a feature with mom, pb, marketcap, roe, and assetgr. Train every 3 years and use 3 years of data each time you train. Compute portfolio returns for the 100 best stocks (highest predicted value of the target) and the 100 worst stocks (lowest predicted value of the target) each week. Plot the cumulative compound returns over time."
  },
  {
    "objectID": "assignment6.html",
    "href": "assignment6.html",
    "title": "",
    "section": "",
    "text": "Instructions\n\n\n\nThis assignment is due at midnight on Tuesday, Feb 20. Submit a Jupyter notebook to Canvas. Copy each question into a Markdown cell and perform the analysis in the following cell(s)."
  }
]